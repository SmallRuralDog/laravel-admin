import{e as i}from"./JA_6wDNe.js";import{d as r,e,a,r as s,t as n,P as c,f as l}from"./C34trU7q.js";const v=i("user",{state:()=>({name:void 0,avatar:void 0,job:void 0,organization:void 0,location:void 0,email:void 0,introduction:void 0,personalWebsite:void 0,jobName:void 0,organizationName:void 0,locationName:void 0,phone:void 0,registrationDate:void 0,accountId:void 0,certification:void 0,role:""}),getters:{userInfo(o){return{...o}}},actions:{switchRoles(){return new Promise(o=>{this.role=this.role==="user"?"admin":"user",o(this.role)})},setInfo(o){this.$patch(o)},resetInfo(){this.$reset()},async login(o){try{r(o.access_token)}catch(t){throw e(),t}},logoutCallBack(){const o=a();this.resetInfo(),e(),s(),o.clearServerMenu(),n({name:c.login},!0)},async logout(){try{await l()}finally{this.logoutCallBack()}}}});export{v as u};
