import{h as w,n as S,j as k,o as n,c,w as e,p as L,F as C,q as I,x as l,ap as b,a as s,aq as B,y as x,z as y,aK as D,ab as N,aL as A,K as j,Q as z}from"./mP1IfPKX.js";import{d as P,e as u,a as d,r as R,t as T,P as $,f as q}from"./CjvTegwE.js";const V=w("user",{state:()=>({name:void 0,avatar:void 0,job:void 0,organization:void 0,location:void 0,email:void 0,introduction:void 0,personalWebsite:void 0,jobName:void 0,organizationName:void 0,locationName:void 0,phone:void 0,registrationDate:void 0,accountId:void 0,certification:void 0,role:""}),getters:{userInfo(o){return{...o}}},actions:{switchRoles(){return new Promise(o=>{this.role=this.role==="user"?"admin":"user",o(this.role)})},setInfo(o){this.$patch(o)},resetInfo(){this.$reset()},async login(o){try{P(o.access_token)}catch(a){throw u(),a}},logoutCallBack(){const o=d();this.resetInfo(),u(),R(),o.clearServerMenu(),T({name:$.login},!0)},async logout(){try{await q()}finally{this.logoutCallBack()}}}}),G=S({__name:"SetLang",setup(o){const a=d(),r=k(window.AmisAdmin),p=i=>{a.setLanguage(i)};return(i,E)=>{const _=D,g=N,m=A,v=j,h=z;return n(),c(h,{trigger:"click"},{content:e(()=>[(n(!0),L(C,null,I(l(r).language.options,(f,t)=>(n(),c(v,{key:t,value:t,onClick:F=>p(t)},{icon:e(()=>[b(s(m,null,null,512),[[B,t===l(r).currentLanguage]])]),default:e(()=>[x(" "+y(f),1)]),_:2},1032,["value","onClick"]))),128))]),default:e(()=>[s(g,{class:"nav-btn",type:"outline",shape:"circle"},{icon:e(()=>[s(_)]),_:1})]),_:1})}}});export{G as _,V as u};
