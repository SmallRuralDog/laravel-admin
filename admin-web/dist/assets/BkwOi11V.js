const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/E5mMCYVU.js","assets/mP1IfPKX.js","assets/zRycBrWt.css","assets/V8td9_Uf.js","assets/DqHMX07k.css","assets/-O4AJGJr.js","assets/JiurYins.css","assets/DglPaGFM.js","assets/C1CMXHVA.css"])))=>i.map(i=>d[i]);
import{r as I,o as O,c as B,w as U,a as K,C as H,b as W,d as F,e as G,f as V,g as D,v as J,u as Y,h as v,t as q,N as C,m as Q,i as $,j as w,s as X,k as Z,l as nn}from"./mP1IfPKX.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))s(_);new MutationObserver(_=>{for(const o of _)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function i(_){const o={};return _.integrity&&(o.integrity=_.integrity),_.referrerPolicy&&(o.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?o.credentials="include":_.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(_){if(_.ep)return;_.ep=!0;const o=i(_);fetch(_.href,o)}})();const en=(n,e)=>{const i=n.__vccOpts||n;for(const[s,_]of e)i[s]=_;return i},_n={};function an(n,e){const i=I("router-view"),s=H;return O(),B(s,null,{default:U(()=>[K(i)]),_:1})}const on=en(_n,[["render",an]]),tn="modulepreload",sn=function(n){return"/admin/"+n},E={},y=function(e,i,s){let _=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),t=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));_=Promise.allSettled(i.map(r=>{if(r=sn(r),r in E)return;E[r]=!0;const h=r.endsWith(".css"),c=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${c}`))return;const u=document.createElement("link");if(u.rel=h?"stylesheet":tn,h||(u.as="script"),u.crossOrigin="",u.href=r,t&&u.setAttribute("nonce",t),document.head.appendChild(u),h)return new Promise((m,b)=>{u.addEventListener("load",m),u.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${r}`)))})}))}function o(a){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=a,window.dispatchEvent(t),!t.defaultPrevented)throw a}return _.then(a=>{for(const t of a||[])t.status==="rejected"&&o(t.reason);return e().catch(o)})},k="admin-token",P=()=>!!localStorage.getItem(k),un=n=>{localStorage.setItem(k,n)},S=()=>{localStorage.removeItem(k)},cn=window.AmisAdmin.prefix,g={home:"home",login:"login"},l=W({history:F(`${cn}/view/`),routes:[{path:"/",name:g.home,component:()=>y(()=>import("./E5mMCYVU.js"),__vite__mapDeps([0,1,2,3,4])),redirect:"home",children:[{path:"/:pathMatch(.*)*",name:"amis-view",component:()=>y(()=>import("./-O4AJGJr.js"),__vite__mapDeps([5,1,2,6]))}]},{path:"/login",name:g.login,component:()=>y(()=>import("./DglPaGFM.js"),__vite__mapDeps([7,3,1,2,8]))}]}),L=[g.login];l.beforeEach((n,e,i)=>{const s=P(),_=L.includes(n.name);!s&&!_?i({name:g.login}):s&&n.name===g.login?i({name:g.home}):i()});l.afterEach(n=>{const e=P(),i=L.includes(n.name);!e&&!i&&T({name:g.login},!0)});function T(n,e=!1){(e?l.replace:l.push)(n).then(()=>{}).catch(s=>{console.log(s)})}const rn="用户名不能为空",hn="用户名",gn="密码不能为空",ln="密码",dn="验证码不能为空",mn="验证码",bn="点击刷新验证码",fn="记住我",pn="登录",wn="登录成功",yn="错误",qn="重试",$n="返回",zn="点击切换为暗黑模式",vn="点击切换为亮色模式",kn="点击退出全屏模式",jn="点击切换全屏模式",Mn="用户设置",Cn="退出登录",En="重新加载",Sn="关闭当前标签页",xn="关闭左侧标签页",An="关闭右侧标签页",Pn="关闭其它标签页",Ln="首页",Tn={yong_hu_ming_bu_neng_wei:rn,yong_hu_ming:hn,mi_ma_bu_neng_wei_kong:gn,mi_ma:ln,yan_zheng_ma_bu_neng_wei:dn,yan_zheng_ma:mn,dian_ji_shua_xin_yan_zhe:bn,ji_zhu_wo:fn,deng_lu:pn,deng_lu_cheng_gong:wn,cuo_wu:yn,zhong_shi:qn,fan_hui:$n,dian_ji_qie_huan_wei_an:zn,dian_ji_qie_huan_wei_lia:vn,dian_ji_tui_chu_quan_pin:kn,dian_ji_qie_huan_quan_pi:jn,yong_hu_she_zhi:Mn,tui_chu_deng_lu:Cn,zhong_xin_jia_zai:En,guan_bi_dang_qian_biao_q:Sn,guan_bi_zuo_ce_biao_qian:xn,guan_bi_you_ce_biao_qian:An,guan_bi_qi_ta_biao_qian:Pn,home:Ln},Rn="Username cannot be empty",Nn="username",In="Password cannot be empty",On="password",Bn="Verification code cannot be empty",Un="Verification code",Kn="Click to refresh verification code",Hn="remember me",Wn="Log in",Fn="Login successful",Gn="mistake",Vn="Try again",Dn="return",Jn="Click to switch to light mode",Yn="Click to switch to dark mode",Qn="Click to exit full screen mode",Xn="Click to switch to full screen mode",Zn="User settings",ne="Log out",ee="reload",_e="Close current tab",ie="Close left tab",ae="Close the tab on the right",oe="Close other tabs",te="Home",se={yong_hu_ming_bu_neng_wei:Rn,yong_hu_ming:Nn,mi_ma_bu_neng_wei_kong:In,mi_ma:On,yan_zheng_ma_bu_neng_wei:Bn,yan_zheng_ma:Un,dian_ji_shua_xin_yan_zhe:Kn,ji_zhu_wo:Hn,deng_lu:Wn,deng_lu_cheng_gong:Fn,cuo_wu:Gn,zhong_shi:Vn,fan_hui:Dn,dian_ji_qie_huan_wei_lia:Jn,dian_ji_qie_huan_wei_an:Yn,dian_ji_tui_chu_quan_pin:Qn,dian_ji_qie_huan_quan_pi:Xn,yong_hu_she_zhi:Zn,tui_chu_deng_lu:ne,zhong_xin_jia_zai:ee,guan_bi_dang_qian_biao_q:_e,guan_bi_zuo_ce_biao_qian:ie,guan_bi_you_ce_biao_qian:ae,guan_bi_qi_ta_biao_qian:oe,home:te},ue="使用者名稱不能為空",ce="使用者名稱",re="密碼不能為空",he="密碼",ge="驗證碼不能為空",le="驗證碼",de="點擊刷新驗證碼",me="記住我",be="登入",fe="登入成功",pe="錯誤",we="重試",ye="返回",qe="點擊切換為亮色模式",$e="點擊切換為暗黑模式",ze="點選退出全螢幕模式",ve="點擊切換全螢幕模式",ke="使用者設定",je="登出登入",Me="重新載入",Ce="關閉目前標籤頁",Ee="關閉左側標籤頁",Se="關閉右側標籤頁",xe="關閉其它標籤頁",Ae="首頁",Pe={yong_hu_ming_bu_neng_wei:ue,yong_hu_ming:ce,mi_ma_bu_neng_wei_kong:re,mi_ma:he,yan_zheng_ma_bu_neng_wei:ge,yan_zheng_ma:le,dian_ji_shua_xin_yan_zhe:de,ji_zhu_wo:me,deng_lu:be,deng_lu_cheng_gong:fe,cuo_wu:pe,zhong_shi:we,fan_hui:ye,dian_ji_qie_huan_wei_lia:qe,dian_ji_qie_huan_wei_an:$e,dian_ji_tui_chu_quan_pin:ze,dian_ji_qie_huan_quan_pi:ve,yong_hu_she_zhi:ke,tui_chu_deng_lu:je,zhong_xin_jia_zai:Me,guan_bi_dang_qian_biao_q:Ce,guan_bi_zuo_ce_biao_qian:Ee,guan_bi_you_ce_biao_qian:Se,guan_bi_qi_ta_biao_qian:xe,home:Ae},Le="Tên người dùng không thể trống",Te="tên người dùng",Re="Mật khẩu không thể trống",Ne="mật khẩu",Ie="Mã xác minh không được để trống",Oe="Mã xác minh",Be="Nhấp để làm mới mã xác minh",Ue="nhớ tôi",Ke="Đăng nhập",He="Đăng nhập thành công",We="sai lầm",Fe="Thử lại",Ge="trở lại",Ve="Click để chuyển sang chế độ đèn",De="Nhấp để chuyển sang chế độ tối",Je="Bấm để thoát khỏi chế độ toàn màn hình",Ye="Click để chuyển sang chế độ toàn màn hình",Qe="Cài đặt người dùng",Xe="Đăng xuất",Ze="tải lại",n_="Đóng tab hiện tại",e_="Đóng tab bên trái",__="Đóng tab bên phải",i_="Đóng các tab khác",a_="Trang chủ",o_={yong_hu_ming_bu_neng_wei:Le,yong_hu_ming:Te,mi_ma_bu_neng_wei_kong:Re,mi_ma:Ne,yan_zheng_ma_bu_neng_wei:Ie,yan_zheng_ma:Oe,dian_ji_shua_xin_yan_zhe:Be,ji_zhu_wo:Ue,deng_lu:Ke,deng_lu_cheng_gong:He,cuo_wu:We,zhong_shi:Fe,fan_hui:Ge,dian_ji_qie_huan_wei_lia:Ve,dian_ji_qie_huan_wei_an:De,dian_ji_tui_chu_quan_pin:Je,dian_ji_qie_huan_quan_pi:Ye,yong_hu_she_zhi:Qe,tui_chu_deng_lu:Xe,zhong_xin_jia_zai:Ze,guan_bi_dang_qian_biao_q:n_,guan_bi_zuo_ce_biao_qian:e_,guan_bi_you_ce_biao_qian:__,guan_bi_qi_ta_biao_qian:i_,home:a_},t_="Nama pengguna tidak boleh kosong",s_="nama belakang",u_="Kata sandi tidak boleh kosong",c_="kata sandi",r_="Kode verifikasi tidak boleh kosong",h_="Kode verifikasi",g_="Klik untuk menyegarkan kode verifikasi",l_="ingat aku",d_="Masuk",m_="Masuk berhasil",b_="kesalahan",f_="Coba lagi",p_="kembali",w_="Klik untuk beralih ke mode cahaya",y_="Klik untuk beralih ke mode gelap",q_="Klik untuk keluar dari mode layar penuh",$_="Klik untuk beralih ke mode layar penuh",z_="Pengaturan pengguna",v_="Keluar",k_="memuat ulang",j_="Tutup tab saat ini",M_="Tutup tab kiri",C_="Tutup tab di sebelah kanan",E_="Tutup tab lainnya",S_="Rumah",x_={yong_hu_ming_bu_neng_wei:t_,yong_hu_ming:s_,mi_ma_bu_neng_wei_kong:u_,mi_ma:c_,yan_zheng_ma_bu_neng_wei:r_,yan_zheng_ma:h_,dian_ji_shua_xin_yan_zhe:g_,ji_zhu_wo:l_,deng_lu:d_,deng_lu_cheng_gong:m_,cuo_wu:b_,zhong_shi:f_,fan_hui:p_,dian_ji_qie_huan_wei_lia:w_,dian_ji_qie_huan_wei_an:y_,dian_ji_tui_chu_quan_pin:q_,dian_ji_qie_huan_quan_pi:$_,yong_hu_she_zhi:z_,tui_chu_deng_lu:v_,zhong_xin_jia_zai:k_,guan_bi_dang_qian_biao_q:j_,guan_bi_zuo_ce_biao_qian:M_,guan_bi_you_ce_biao_qian:C_,guan_bi_qi_ta_biao_qian:E_,home:S_},f=G({locale:window.AmisAdmin.currentLanguage,fallbackLocale:"zh-CN",messages:{zh_CN:Tn,en:se,zh_TW:Pe,vi:o_,id:x_}}),A_=n=>{n.use(f)},P_="light",L_=!1,T_=!0,R_=!0,N_=!1,I_=!1,O_=!1,B_=!1,U_="#165DFF",K_=220,H_=!1,W_="desktop",F_=!0,G_=!0,V_=[],D_={},J_={theme:P_,colorWeak:L_,navbar:T_,menu:R_,topMenu:N_,hideMenu:I_,menuCollapse:O_,footer:B_,themeColor:U_,menuWidth:K_,globalSettings:H_,device:W_,tabBar:F_,menuFromServer:G_,serverMenu:V_,activeMenus:D_},d=V({baseURL:window.AmisAdmin.apiBase,timeout:1e3*30,requestAdapter:D(),cacheFor:{},statesHook:J,beforeRequest:()=>{},responded:{onSuccess:async n=>{const e=await n.data;if(e.status!==0){if(e.status==401){A().logoutCallBack();return}throw new Error(e.msg)}return e.data},onError:n=>{if(n.response.status===401){A().logoutCallBack();return}throw new Error(n.response.data.msg??n.response.data.message)}}});function ai(n){return d.Post("/auth/login",n)}function Y_(){return d.Get("/auth/logout")}function Q_(){return d.Get("/userMenus")}async function X_(n,e){return d.Get(n,{params:e})}function Z_(n){return d.Get("/setLang",{params:{lang:n}})}const{set:x}=Y(),R=v("app",{state:()=>({...J_,config:window.AmisAdmin}),getters:{appCurrentSetting(n){return{...n}},appDevice(n){return n.device},appAsyncMenus(n){return n.serverMenu},appActiveMenus(n){return n.activeMenus}},actions:{updateSettings(n){this.$patch(n)},toggleTheme(n){n?(this.theme="dark",document.body.setAttribute("arco-theme","dark"),x("arco-theme","dark",{path:"/"})):(this.theme="light",document.body.removeAttribute("arco-theme"),x("arco-theme","light",{path:"/"}))},toggleDevice(n){this.device=n},toggleMenu(n){this.hideMenu=n},async fetchServerMenuConfig(){const[n,e]=await q(Q_());if(n){C.error({title:f.global.t("cuo_wu"),content:n.message});return}this.serverMenu=e.menus,this.activeMenus=e.active_menus},clearServerMenu(){this.serverMenu=[]},getMenuItemByUri(n){n=n.split("?")[0];const e=[];let i=!1;const s=_=>{var o;if(_.path==n){i=!0,e.push(_);return}(o=_.children)!=null&&o.length&&_.children.forEach(a=>{s(a)})};return this.serverMenu.forEach(_=>{i||s(_)}),e[0]},async setLanguage(n){this.language=n;const[e]=await q(Z_(n));if(e){C.error({title:f.global.t("cuo_wu"),content:e.message});return}f.global.locale=n,location.reload()}}}),j=Q(),M=Symbol("ROUTE_CHANGE");let z;function oi(n){j.emit(M,n),z=n}function ni(n,e=!0){j.on(M,n),e&&z&&n(z)}function ei(){j.off(M)}const A=v("user",{state:()=>({name:void 0,avatar:void 0,job:void 0,organization:void 0,location:void 0,email:void 0,introduction:void 0,personalWebsite:void 0,jobName:void 0,organizationName:void 0,locationName:void 0,phone:void 0,registrationDate:void 0,accountId:void 0,certification:void 0,role:""}),getters:{userInfo(n){return{...n}}},actions:{switchRoles(){return new Promise(n=>{this.role=this.role==="user"?"admin":"user",n(this.role)})},setInfo(n){this.$patch(n)},resetInfo(){this.$reset()},async login(n){try{un(n.access_token)}catch(e){throw S(),e}},logoutCallBack(){const n=R();this.resetInfo(),S(),ei(),n.clearServerMenu(),T({name:g.login},!0)},async logout(){try{await Y_()}finally{this.logoutCallBack()}}}});$.configure({showSpinner:!1});const ti=v("pages",()=>{const n={},e=w({loading:!0,error:!1,status:0,errorMessage:"",pageJson:null,showMenu:!0,showHeader:!0}),i=async(t,r)=>{$.start(),e.value.loading=!0;const[h,c]=await q(X_(t,r));if(e.value.loading=!1,$.done(),h){e.value.error=!0,e.value.status=404,e.value.errorMessage=h.message;return}c.action?(c.action=="jump"&&c.url&&(window.location.href=c.url),c.action=="renderPage"&&(e.value.showHeader=c.showHeader??!0,e.value.showMenu=c.showMenu??!0)):(e.value.showHeader=!0,e.value.showMenu=!0),n[t]=c,e.value.status=c.status??0,e.value.pageJson=n[t],e.value.error=!1},{appAsyncMenus:s}=X(R()),_=t=>{const r=[];let h=!1;const c=(u,m)=>{var b;if(u.id===t){h=!0,r.push(...m,u.name);return}(b=u.children)!=null&&b.length&&u.children.forEach(N=>{c(N,[...m,u.name])})};return s.value.forEach(u=>{h||c(u,[])}),r},o=w(),a=w([]);return ni(t=>{o.value=t,a.value=_(t.id)},!0),{thisPage:e,pageBreadcrumb:a,getPageJson:i}}),_i=Z(),p=nn(on);A_(p);p.use(l);p.use(_i);p.mount("#app");export{g as P,en as _,R as a,l as b,A as c,ai as d,f as i,ni as l,ei as r,oi as s,T as t,ti as u};
