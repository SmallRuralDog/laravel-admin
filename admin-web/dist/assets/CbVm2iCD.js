import{k as d,o as i,l as f,a as p,A as B,w as m,q as g,au as V,a9 as C,f as k,x as J,y as q,Y as A,Q as O,s as T,P as j,z as N,av as P,p as a,c as x,$ as b}from"./CXHZ_blF.js";import{c as w,_ as E,u as v}from"./C6xmlCMc.js";const $={class:"content"},L={class:"operation-row"},S=d({__name:"ExceptionError",props:{title:{},status:{}},setup(l){const t=()=>{w.go(0)},n=()=>{w.back()};return(s,o)=>{const r=V,c=C;return i(),f("div",$,[p(r,{class:"result",status:s.status,subtitle:s.title},null,8,["status","subtitle"]),B("div",L,[p(c,{key:"again",onClick:t,style:{"margin-right":"16px"}},{default:m(()=>[g(" 重试 ")]),_:1}),p(c,{key:"back",type:"primary",onClick:n},{default:m(()=>[g(" 返回 ")]),_:1})])])}}}),I=E(S,[["__scopeId","data-v-3d99c615"]]),M=d({__name:"AmisRenderer",props:{amisJson:{}},setup(l){const t=window.amisRequire("amis/embed"),n=k(null),s=l,o=J(),r=q(),c=k(null),_=()=>{c.value=t.embed(n.value,s.amisJson,{},{jumpTo:e=>{if(e=="back()"){o.back();return}if(e.indexOf("http://")==0||e.indexOf("https://")==0){window.location.href=e;return}o.push(e)},updateLocation:(e,h)=>{let u=e.split("&").filter(R=>R.indexOf("search[")===-1).join("&");u.indexOf("?")!==0&&(u="?"+u);const y=r.path+u;h?o.replace(y):o.push(y)},affixOffsetTop:48})};return A(()=>_()),O(()=>{var e;(e=c.value)==null||e.unmount()}),(e,h)=>(i(),f("div",{class:"amis-main",ref_key:"amisEL",ref:n},null,512))}}),z={class:"main-container"},G=d({__name:"AmisView",setup(l){const{thisPage:t}=T(v()),{getPageJson:n}=v(),s=q();j(()=>s.path,async r=>{await n(r,s.query)}),A(async()=>{await n(s.path,s.query)});const o=N(()=>t.value.status.toString());return(r,c)=>{const _=M,e=I;return i(),f("div",z,[p(P,{name:"fade"},{default:m(()=>[!a(t).error&&a(t).pageJson&&!a(t).loading?(i(),x(_,{key:a(s).path,"amis-json":a(t).pageJson},null,8,["amis-json"])):b("",!0),a(t).error&&!a(t).loading?(i(),x(e,{key:1,title:a(t).errorMessage,status:a(o)},null,8,["title","status"])):b("",!0)]),_:1})])}}}),D=E(G,[["__scopeId","data-v-cbb3f29c"]]);export{D as default};
