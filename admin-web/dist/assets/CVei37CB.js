import{n as d,o as c,p as f,a as l,H as V,w as m,y,z as b,ax as j,ab as C,j as k,D as J,E,_ as R,S as O,s as S,R as T,G as $,ay as L,x as a,c as w,a1 as x}from"./mP1IfPKX.js";import{b as v,_ as q,u as A}from"./Bosq37yR.js";const N={class:"content"},P={class:"operation-row"},z=d({__name:"ExceptionError",props:{title:{},status:{}},setup(p){const t=()=>{v.go(0)},n=()=>{v.back()};return(s,o)=>{const r=j,i=C;return c(),f("div",N,[l(r,{class:"result",status:s.status,subtitle:s.title},null,8,["status","subtitle"]),V("div",P,[l(i,{key:"again",onClick:t,style:{"margin-right":"16px"}},{default:m(()=>[y(b(s.$t("zhong_shi")),1)]),_:1}),l(i,{key:"back",type:"primary",onClick:n},{default:m(()=>[y(b(s.$t("fan_hui")),1)]),_:1})])])}}}),D=q(z,[["__scopeId","data-v-9fa4bbd4"]]),G=d({__name:"AmisRenderer",props:{amisJson:{}},setup(p){const t=window.amisRequire("amis/embed"),n=k(null),s=p,o=J(),r=E(),i=k(null),_=()=>{i.value=t.embed(n.value,s.amisJson,{locale:window.AmisAdmin.currentLanguage},{jumpTo:e=>{if(e=="back()"){o.back();return}if(e.indexOf("http://")==0||e.indexOf("https://")==0){window.location.href=e;return}o.push(e)},updateLocation:(e,h)=>{let u=e.split("&").filter(B=>B.indexOf("search[")===-1).join("&");u.indexOf("?")!==0&&(u="?"+u);const g=r.path+u;h?o.replace(g):o.push(g)},affixOffsetTop:48})};return R(()=>_()),O(()=>{var e;(e=i.value)==null||e.unmount()}),(e,h)=>(c(),f("div",{class:"amis-main",ref_key:"amisEL",ref:n},null,512))}}),I={class:"main-container"},M=d({__name:"AmisView",setup(p){const{thisPage:t}=S(A()),{getPageJson:n}=A(),s=E();T(()=>s.path,async r=>{await n(r,s.query)}),R(async()=>{await n(s.path,s.query)});const o=$(()=>t.value.status.toString());return(r,i)=>{const _=G,e=D;return c(),f("div",I,[l(L,{name:"fade"},{default:m(()=>[!a(t).error&&a(t).pageJson&&!a(t).loading?(c(),w(_,{key:a(s).path,"amis-json":a(t).pageJson},null,8,["amis-json"])):x("",!0),a(t).error&&!a(t).loading?(c(),w(e,{key:1,title:a(t).errorMessage,status:a(o)},null,8,["title","status"])):x("",!0)]),_:1})])}}}),K=q(M,[["__scopeId","data-v-cbb3f29c"]]);export{K as default};
