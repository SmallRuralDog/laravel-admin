import{l as w,g as m,o as i,n as u,G as n,a as o,w as t,F as E,p as G,q as e,ax as P,c as y,y as d,ay as T,az as z,a0 as D,x as k,t as M,aA as H,ae as R,aB as j,aC as J,aD as K,aE as O,aF as Q,ab as W,a7 as X,aG as Y,aa as Z,aH as ee}from"./JA_6wDNe.js";import{_ as x,c as oe,t as se,P as ae}from"./DwsKZaH3.js";import{u as te}from"./BT9XwtmL.js";const ne={class:"banner"},re={class:"banner-inner"},le={class:"carousel-title"},ie={class:"carousel-sub-title px-20 line-clamp-2"},ce=["src"],de=w({__name:"LoginBanner",setup(V){const r=m(window.AmisAdmin.loginBanner);return(v,p)=>{const h=T,_=P;return i(),u("div",ne,[n("div",re,[o(_,{class:"carousel","animation-name":"fade"},{default:t(()=>[(i(!0),u(E,null,G(e(r),s=>(i(),y(h,{key:s.title},{default:t(()=>[(i(),u("div",{key:s.title,class:"carousel-item"},[n("div",le,d(s.title),1),n("div",ie,d(s.desc),1),n("img",{class:"carousel-image",src:s.image},null,8,ce)]))]),_:2},1024))),128))]),_:1})])])}}}),_e=x(de,[["__scopeId","data-v-0566b7fc"]]),me={class:"login-form-wrapper"},ue={class:"login-form-title"},pe={class:"login-form-sub-title"},ge={class:"login-form-error-msg text-12"},fe=["src"],ve={class:"login-form-password-actions"},he=w({__name:"LoginForm",setup(V){const r=m(window.AmisAdmin),v=te(),p=m(r.value.captchaUrl),h=()=>{p.value=`${r.value.captchaUrl}?${Date.now()}`},_=m(""),{form:s,loading:I,send:B}=z(c=>oe({username:c.username,password:c.password,remember:c.remember}),{initialForm:{username:"",password:"",verification_code:"",remember:!1}}),C=async({errors:c,values:a})=>{if(c)return;_.value="";const[g,f]=await M(B(a));if(g){_.value=g.message;return}H.success("登录成功"),v.login(f),se({name:ae.home})};return(c,a)=>{const g=R,f=j,b=J,F=K,U=O,A=Q,L=W,$=X,S=Y,q=Z,N=ee;return i(),u("div",me,[n("div",ue,d(e(r).loginTitle),1),n("div",pe,d(e(r).loginDesc),1),n("div",ge,d(e(_)),1),o(N,{ref:"loginForm",model:e(s),class:"login-form",layout:"vertical",onSubmit:C},{default:t(()=>[o(b,{field:"username",rules:[{required:!0,message:"用户名不能为空"}],"validate-trigger":["change","blur"],"hide-label":""},{default:t(()=>[o(f,{modelValue:e(s).username,"onUpdate:modelValue":a[0]||(a[0]=l=>e(s).username=l),placeholder:"用户名"},{prefix:t(()=>[o(g)]),_:1},8,["modelValue"])]),_:1}),o(b,{field:"password",rules:[{required:!0,message:"密码不能为空"}],"validate-trigger":["change","blur"],"hide-label":""},{default:t(()=>[o(U,{modelValue:e(s).password,"onUpdate:modelValue":a[1]||(a[1]=l=>e(s).password=l),placeholder:"密码","allow-clear":""},{prefix:t(()=>[o(F)]),_:1},8,["modelValue"])]),_:1}),e(r).opebCaptcha?(i(),y(b,{key:0,field:"verification_code",rules:[{required:!0,message:" 验证码不能为空"}],"validate-trigger":["change","blur"],"hide-label":""},{default:t(()=>[o($,null,{default:t(()=>[o(f,{modelValue:e(s).verification_code,"onUpdate:modelValue":a[2]||(a[2]=l=>e(s).verification_code=l),placeholder:"验证码"},{prefix:t(()=>[o(A)]),_:1},8,["modelValue"]),o(L,{content:"点击刷新验证码"},{default:t(()=>[n("img",{src:e(p),onClick:h,alt:"",srcset:"",class:"w-full h-32px rounded-2px cursor-pointer"},null,8,fe)]),_:1})]),_:1})]),_:1})):D("",!0),o($,{size:16,direction:"vertical"},{default:t(()=>[n("div",ve,[o(S,{checked:"remember",modelValue:e(s).remember,"onUpdate:modelValue":a[3]||(a[3]=l=>e(s).remember=l)},{default:t(()=>a[4]||(a[4]=[k("记住我")])),_:1},8,["modelValue"])]),o(q,{type:"primary","html-type":"submit",long:"",loading:e(I)},{default:t(()=>a[5]||(a[5]=[k(" 登录 ")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])}}}),be=x(he,[["__scopeId","data-v-4d3d7f7b"]]),we={class:"container"},xe={class:"logo"},Ve=["src"],$e={class:"logo-text"},ke={class:"content"},ye={class:"content-inner"},Ie=w({__name:"LoginView",setup(V){const r=m(window.AmisAdmin);return localStorage.setItem("arco-theme","light"),(v,p)=>(i(),u("div",we,[n("div",xe,[n("img",{alt:"logo",class:"h-33 w-33",src:e(r).logo},null,8,Ve),n("div",$e,d(e(r).title),1)]),o(_e),n("div",ke,[n("div",ye,[o(be)])])]))}}),Ue=x(Ie,[["__scopeId","data-v-f1e1325c"]]);export{Ue as default};
